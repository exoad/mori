import{u as e,j as t,r as s}from"./vendor-DL0WX_AC.js"
import{S as a,C as n,l,a as r,b as i,F as o,D as c,M as m}from"./components-D7v4JOTE.js"
function d(){const s=e()
return t.jsx(a,{hideHeader:1,children:t.jsxs(n,{className:"gap-2 text-center w-full",children:[t.jsx("img",{src:l,className:"w-24 h-24 md:w-32 md:h-32",draggable:0,loading:"lazy"}),t.jsx(r,{className:"font-playfair text-8xl md:text-9xl font-extrabold tracking-tight uppercase",children:"MORI"}),t.jsx(i,{className:"text-white/70 text-2xl md:text-3xl font-semibold uppercase mt-2",children:"YOU ARE ALREADY DYING"}),t.jsx(i,{className:"text-white/50 text-sm md:text-lg max-w-2xl mx-auto leading-snug mt-6 px-12 md:px-0",children:"Your time is finite. Watch it disappear."}),t.jsx(o,{className:"mt-10 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>s("/setup"),children:"Continue"})]})})}function x(e,t){const[a,n]=s.useState(()=>localStorage.getItem(e)??t)
return s.useEffect(()=>{localStorage.setItem(e,a)},[e,a]),[a,n]}function h(){const[l,d]=x("username",""),[h,u]=x("birthdate",""),[f,g]=x("gender",""),p=e(),[w,j]=s.useState({})
return t.jsx(a,{children:t.jsxs(n,{className:"gap-4",children:[t.jsx(r,{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"Who Are You?"}),t.jsx(i,{className:"text-white/50 text-xs md:text-sm leading-relaxed text-center italic max-w-md mx-auto px-4",children:"This application only saves data locally on your device and is only used for the purpose of your experience."}),t.jsx(c,{className:"my-8"}),t.jsxs("form",{className:"w-full max-w-md mx-auto flex flex-col gap-8",children:[t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Name"}),t.jsx(i,{className:"text-xs text-white/70",children:"Just something humanizing."}),t.jsx("input",{type:"text",placeholder:"...",className:`mt-1 p-2 bg-transparent border-b ${w.username?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:l,onChange:e=>d(e.target.value)}),w.username?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:w.username}):null]}),t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Birth Date"}),t.jsx("input",{type:"date",className:`birthdate-picker mt-1 p-2 bg-transparent border-b ${w.birthdate?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:h,onChange:e=>u(e.target.value)}),w.birthdate?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:w.birthdate}):null]}),t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Gender"}),t.jsx("div",{className:"mt-3",children:t.jsx(m,{options:["Male","Female"],value:f??null,onChange:e=>g(e),className:"gap-3"})})]})]}),t.jsx(o,{className:"mt-4 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>{(()=>{const e={}
return l&&0!==l.trim().length||(e.username="Please enter your name."),h||(e.birthdate="Please enter your birth date."),j(e),0===Object.keys(e).length})()&&p("/rep")},children:"Continue"})]})})}function u(){const[e]=x("username",""),[l]=x("birthdate",""),[r]=x("gender",""),[i,o]=s.useState("years"),[d,h]=s.useState(0)
s.useEffect(()=>{h(1)
const e=setTimeout(()=>h(0),300)
return()=>clearTimeout(e)},[i])
const u="Male"===r?71:"Female"===r?76:74,{total:p,elapsed:w,remaining:j,deathDate:N}=s.useMemo(()=>{if(!l)return{total:0,elapsed:0,remaining:0,deathDate:new Date}
const e=new Date(l),t=new Date,s=new Date(e)
if(s.setFullYear(e.getFullYear()+u),"weeks"===i){const a=Math.floor((s.getTime()-e.getTime())/6048e5),n=Math.floor((t.getTime()-e.getTime())/6048e5)
return{total:a,elapsed:n,remaining:a-n,deathDate:s}}if("days"===i){const a=Math.floor((s.getTime()-e.getTime())/864e5),n=Math.floor((t.getTime()-e.getTime())/864e5)
return{total:a,elapsed:n,remaining:a-n,deathDate:s}}if("countdown"===i){const a=Math.floor((s.getTime()-e.getTime())/1e3),n=Math.floor((t.getTime()-e.getTime())/1e3)
return{total:a,elapsed:n,remaining:a-n,deathDate:s}}if("months"===i){const a=12*u,n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())
return{total:a,elapsed:n,remaining:a-n,deathDate:s}}{const a=u,n=t.getFullYear()-e.getFullYear()
return{total:a,elapsed:n,remaining:a-n,deathDate:s}}},[l,i,u]),b="weeks"===i?5:"months"===i?12:50,y=p>0?Math.max(0,Math.min(100,Math.round(w/p*100))):0,[v,T]=s.useState("undefined"!=typeof window?window.innerWidth:1024)
s.useEffect(()=>{const e=()=>T(window.innerWidth)
return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[])
const D=s.useMemo(()=>420>v?"weeks"===i?4:"months"===i?8:b:640>v?"weeks"===i?5:"months"===i?10:b:b,[v,i,b]),M="weeks"===i||"months"===i?D:b
return t.jsx(a,{children:t.jsxs(n,{gap:8,className:"mb-10",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center",children:e?e+"'s Life Calendar":"This Your is Your Life Calendar"}),t.jsxs(n,{className:"text-white/70 text-center",children:[t.jsxs("span",{className:"md:text-base text-sm",children:["Male"===r?"As a male, you are statistically expected to live for 71 years.":"As a female, you typically live around 76 years."," "]}),t.jsxs("span",{className:"italic text-sm",children:["(Source: ","worldometer",")"]})]}),t.jsx("div",{className:"w-full",children:t.jsx(m,{options:["countdown","days","weeks","months","years"],value:i,onChange:e=>o(e),className:"font-montserrat"})}),t.jsx(c,{}),!d&&t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx(n,{mainAxisAlignment:"start",children:"countdown"!==i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-1 flex items-end justify-center sm:justify-start gap-3",children:[t.jsx("div",{className:"text-5xl font-playfair font-bold text-white leading-none",children:j}),t.jsxs("div",{className:"text-lg text-white mb-1",children:[i," left"]})]}),t.jsxs("div",{className:"mt-2 text-md text-white/70",children:["Until"," ",t.jsx("time",{dateTime:N.toISOString(),className:"font-medium",children:N.toLocaleDateString()})]})]}):t.jsx(t.Fragment,{})}),t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"h-3 bg-white/10",children:t.jsx("div",{"aria-hidden":1,className:"h-full bg-gradient-to-r from-rose-800 via-amber-400 to-amber-100",style:{width:y+"%"}})}),t.jsxs("div",{className:"mt-1 text-sm italic text-white/70",children:[y,"% of the way there"]})]})]})}),t.jsxs("div",{className:"relative w-full min-h-[200px]",children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-all duration-300 "+(d?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-3"),children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{className:"text-xs text-white/50",children:"Recalculatingâ€¦"})]})}),"months"===i||"years"===i||"weeks"===i?t.jsx("div",{className:"inset-0 flex items-center justify-center transition-opacity duration-500 "+(d?"opacity-0 pointer-events-none":"opacity-100"),children:t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"grid max-w-[90dvw] gap-1.5",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${M}px, 1fr))`,gridAutoRows:M+"px"},children:Array.from({length:p}).map((e,s)=>t.jsx("div",{className:"aspect-square transition-colors duration-150 cell-animate "+(w>s?"bg-white/20":"bg-white"),style:{animationDelay:1.15*s+"ms"}},`cell-${i}-${s}`))})})}):"days"===i?t.jsx(g,{}):"countdown"===i?t.jsx(f,{deathDate:N}):t.jsx(t.Fragment,{})]})]})})}function f({deathDate:e}){const[a,n]=s.useState(()=>{const t=new Date
return(e.getTime()-t.getTime())/1e3})
return s.useEffect(()=>{const t=()=>{const t=new Date
n((e.getTime()-t.getTime())/1e3)}
t()
const s=setInterval(t,1e3)
return()=>clearInterval(s)},[e]),t.jsxs("div",{className:"flex flex-col gap-4 w-full text-center text-4xl md:text-6xl lg:text-8xl font-mono font-bold text-white",children:[(()=>{const e=Math.floor(Math.max(0,a)),t=e=>(e+"").padStart(2,"0")
return`${Math.floor(e/3600)}:${t(Math.floor(e%3600/60))}:${t(e%60)}`})(),t.jsx("div",{className:"text-white/70 text-base md:text-sm italic font-normal font-montserrat",children:"Tick Tock..."})]})}function g(){const[e,a]=s.useState(0),n=()=>{const e=new Date
return(new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0,0).getTime()-e.getTime())/864e5*100}
return s.useEffect(()=>{a(n())
const e=setInterval(()=>{a(n())},1e3)
return()=>clearInterval(e)},[]),t.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm font-medium text-white/80",children:[t.jsx("span",{className:"text-lg",children:"Today"}),t.jsxs("span",{className:"font-montserrat text-md",children:[e.toFixed(6),"% remaining"]})]}),t.jsx("div",{className:"w-full h-10 overflow-hidden bg-white/10",children:t.jsx("div",{className:"h-full bg-white transition-all duration-1500 linear",style:{width:e+"%"}})}),t.jsxs("div",{className:"text-sm text-white/50 text-left mt-1",children:["Day ends in ",(.24*e).toFixed(2)," hours"]})]})}function p(){const s=e()
return t.jsx("div",{className:"bg-black min-h-screen flex items-center justify-center px-4 sm:px-8 md:px-16",children:t.jsxs(n,{className:"gap-6 text-center",children:[t.jsx(r,{className:"font-playfair text-6xl font-bold",children:"404"}),t.jsx(i,{className:"text-white/70 md:text-xl",children:"Page not found."}),t.jsx(o,{onPress:()=>s("/"),className:"mt-4 px-10 py-4",children:"Go home"})]})})}export{d as L,p as N,u as R,h as S}
