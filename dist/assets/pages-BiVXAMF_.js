import{u as e,j as t,r as a}from"./vendor-DL0WX_AC.js"
import{S as s,C as l,l as n,a as r,b as i,F as o,D as c,M as m}from"./components-D7v4JOTE.js"
function d(){const a=e()
return t.jsx(s,{hideHeader:1,children:t.jsxs(l,{className:"gap-2 text-center w-full",children:[t.jsx("img",{alt:"Mori Logo",src:n,className:"w-24 h-24 md:w-32 md:h-32",draggable:0,loading:"lazy"}),t.jsx(r,{className:"font-playfair text-8xl md:text-9xl font-extrabold tracking-tight uppercase",children:"MORI"}),t.jsx(i,{className:"text-white/70 text-2xl md:text-3xl font-semibold uppercase mt-2",children:"YOU ARE ALREADY DYING"}),t.jsx(i,{className:"text-white/50 text-sm md:text-lg max-w-2xl mx-auto leading-snug mt-6 px-12 md:px-0",children:"Your time is finite. Watch it disappear."}),t.jsx(o,{className:"mt-10 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>a("/mori/setup"),children:"Continue"})]})})}function x(e,t){const[s,l]=a.useState(()=>localStorage.getItem(e)??t)
return a.useEffect(()=>{localStorage.setItem(e,s)},[e,s]),[s,l]}function h(){const[n,d]=x("username",""),[h,u]=x("birthdate",""),[f,g]=x("gender",""),p=e(),[w,j]=a.useState({})
return t.jsx(s,{children:t.jsxs(l,{className:"gap-4",children:[t.jsx(r,{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"Who Are You?"}),t.jsx(i,{className:"text-white/50 text-xs md:text-sm leading-relaxed text-center italic max-w-md mx-auto px-4",children:"This application only saves data locally on your device and is only used for the purpose of your experience."}),t.jsx(c,{className:"my-8"}),t.jsxs("form",{className:"w-full max-w-md mx-auto flex flex-col gap-8",children:[t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Name"}),t.jsx(i,{className:"text-xs text-white/70",children:"Just something humanizing."}),t.jsx("input",{type:"text",placeholder:"...",className:`mt-1 p-2 bg-transparent border-b ${w.username?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:n,onChange:e=>d(e.target.value)}),w.username?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:w.username}):null]}),t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Birth Date"}),t.jsx("input",{type:"date",className:`birthdate-picker mt-1 p-2 bg-transparent border-b ${w.birthdate?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:h,onChange:e=>u(e.target.value)}),w.birthdate?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:w.birthdate}):null]}),t.jsxs("label",{className:"flex flex-col items-start text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Gender"}),t.jsx("div",{className:"mt-3",children:t.jsx(m,{options:["Male","Female"],value:f??"Male",onChange:e=>g(e),className:"gap-3"})})]})]}),t.jsx(o,{className:"mt-4 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>{(()=>{const e={}
return n&&0!==n.trim().length||(e.username="Please enter your name."),h||(e.birthdate="Please enter your birth date."),j(e),0===Object.keys(e).length})()&&p("/mori/rep")},children:"Continue"})]})})}const u=[{label:"ðŸŒ¬ï¸ breaths left",calc:e=>Math.floor(e/5),comment:"assuming ~12 breaths per minute"},{label:"ðŸ‚ seasons left",calc:e=>Math.floor(e/86400/91.25),comment:"assuming ~91.25 days per season"},{label:"ðŸŒ• full moons left",calc:e=>Math.floor(e/2551442),comment:"assuming ~29.53 days per lunar cycle"},{label:"ðŸ˜´ hours of sleep left",calc:e=>Math.floor(e/86400*8),comment:"assuming 8 hours of sleep per day"},{label:"â¤ï¸ liters of blood your heart will pump",calc:e=>Math.floor(e/60*5),comment:"assuming ~5 liters per minute"},{label:"â˜„ï¸ Will you be here for the return of Halley's Comet?",comment:"Expected in July 2061.",check:e=>e.getFullYear()>2061},{label:"ðŸ”® Will you live to see the turn of the next century?",comment:"On January 1, 2100.",check:e=>e.getFullYear()>=2100},{label:"ðŸ¥³ weekends left",calc:e=>Math.floor(e/604800),comment:"assuming 7 days per week"},{label:"ðŸª Will you be here for the 2080 Great Conjunction?",comment:"The next close alignment of Jupiter and Saturn.",check:e=>e.getTime()>new Date("2080-03-15T00:00:00").getTime()},{label:"ðŸ½ï¸ meals left",calc:e=>3*Math.floor(e/86400),comment:"assuming 3 meals per day"},{label:"ðŸ’‡ meters of hair left to grow",calc:e=>Math.floor(e/2628e3*.0125),comment:"assuming ~1.25 cm or 0.0125 m per month"},{label:"ðŸ”­ Will you see the next Transit of Venus?",comment:"A rare event, not happening again until 2117.",check:e=>e.getFullYear()>2117},{label:"ðŸŒ… sunrises left",calc:e=>Math.floor(e/86400),comment:"1 sunrise per day"},{label:"ðŸ’“ heartbeats left",calc:e=>Math.floor(e/60*70),comment:"assuming ~70 beats per minute"},{label:"ðŸ‡ºðŸ‡¸ Will you see the 300th anniversary of the United States?",comment:"On July 4, 2076.",check:e=>e.getTime()>new Date("2076-07-04T00:00:00").getTime()},{label:"ðŸ‘€ blinks left",calc:e=>Math.floor(e/60*900),comment:"assuming ~15 blinks per minute"}]
function f(){const[e]=x("username",""),[n]=x("birthdate",""),[r]=x("gender",""),[i,o]=a.useState("years"),[d,h]=a.useState(0)
a.useEffect(()=>{h(1)
const e=setTimeout(()=>h(0),300)
return()=>clearTimeout(e)},[i])
const u="Male"===r?71:"Female"===r?76:74,{total:f,elapsed:w,remaining:j,deathDate:b}=a.useMemo(()=>{if(!n)return{total:0,elapsed:0,remaining:0,deathDate:new Date}
const e=new Date(n),t=new Date,a=new Date(e)
if(a.setFullYear(e.getFullYear()+u),"weeks"===i){const s=Math.floor((a.getTime()-e.getTime())/6048e5),l=Math.floor((t.getTime()-e.getTime())/6048e5)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("days"===i){const s=Math.floor((a.getTime()-e.getTime())/864e5),l=Math.floor((t.getTime()-e.getTime())/864e5)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("countdown"===i){const s=Math.floor((a.getTime()-e.getTime())/1e3),l=Math.floor((t.getTime()-e.getTime())/1e3)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("months"===i){const s=12*u,l=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}{const s=u,l=t.getFullYear()-e.getFullYear()
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}},[n,i,u]),N="weeks"===i?5:"months"===i?12:50,y=f>0?Math.max(0,Math.min(100,Math.round(w/f*100))):0,[v,M]=a.useState(void 0===globalThis.window?1024:window.innerWidth)
a.useEffect(()=>{const e=()=>M(window.innerWidth)
return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[])
const T=a.useMemo(()=>420>v?"weeks"===i?4:"months"===i?8:N:640>v?"weeks"===i?5:"months"===i?10:N:N,[v,i,N]),D="weeks"===i||"months"===i?T:N
return t.jsx(s,{children:t.jsxs(l,{gap:8,className:"mb-10",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center",children:e?e+"'s Life Calendar":"This Your is Your Life Calendar"}),t.jsxs(l,{className:"text-white/70 text-center",children:[t.jsxs("span",{className:"md:text-base text-sm",children:["Male"===r?"As a male, you are statistically expected to live for 71 years.":"As a female, you typically live around 76 years."," "]}),t.jsxs("span",{className:"italic text-sm",children:["(Source: ","worldometer",")"]})]}),t.jsx("div",{className:"w-full",children:t.jsx(m,{options:["countdown","days","weeks","months","years"],value:i,onChange:e=>o(e),className:"font-montserrat"})}),t.jsx(c,{}),!d&&t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx(l,{mainAxisAlignment:"start",children:"countdown"===i?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-1 flex items-end justify-center sm:justify-start gap-3",children:[t.jsx("div",{className:"text-5xl font-playfair font-bold text-white leading-none",children:j}),t.jsxs("div",{className:"text-lg text-white mb-1",children:[i," left"]})]}),t.jsxs("div",{className:"mt-2 text-md text-white/70",children:["Until"," ",t.jsx("time",{dateTime:b.toISOString(),className:"font-medium",children:b.toLocaleDateString()})]})]})}),t.jsxs("div",{className:"py-10 flame-container",children:[t.jsx("div",{className:"h-3 bg-white/10 flame-track",children:t.jsxs("div",{className:"flame-wrapper",style:{width:y+"%"},children:[t.jsx("div",{"aria-hidden":1,className:"flame-bar bg-gradient-to-r from-[#0A0403] via-[#3A1E1E] to-amber-500 shadow-inner shadow-black/50"}),t.jsx("div",{className:"flame-tip"}),t.jsx("div",{className:"embers"})]})}),t.jsxs("div",{className:"mt-1 text-sm italic text-white/70",children:[y,"% of the way there"]})]})]})}),t.jsxs("div",{className:"relative w-full min-h-[200px]",children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-all duration-300 "+(d?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-3"),children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{className:"text-xs text-white/50",children:"Recalculatingâ€¦"})]})}),"months"===i||"years"===i||"weeks"===i?t.jsx("div",{className:"inset-0 flex items-center justify-center transition-opacity duration-500 "+(d?"opacity-0 pointer-events-none":"opacity-100"),children:t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"grid max-w-[90dvw] gap-1.5",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${D}px, 1fr))`,gridAutoRows:D+"px"},children:Array.from({length:f}).map((e,a)=>t.jsx("div",{className:"aspect-square transition-colors duration-150 cell-animate "+(w>a?"bg-white/20":"bg-white"),style:{animationDelay:1.15*a+"ms"}},`cell-${i}-${a}`))})})}):"days"===i?t.jsx(p,{}):"countdown"===i?t.jsx(g,{deathDate:b}):t.jsx(t.Fragment,{})]})]})})}function g({deathDate:e}){const[s,n]=a.useState(()=>{const t=new Date
return(e.getTime()-t.getTime())/1e3})
a.useEffect(()=>{const t=()=>{const t=new Date
n((e.getTime()-t.getTime())/1e3)}
t()
const a=setInterval(t,1e3)
return()=>clearInterval(a)},[e])
const r=Math.max(0,s),i=Math.floor(r%60),o=e=>(e+"").padStart(2,"0")
return t.jsxs("div",{className:"flex flex-col gap-10 w-full text-center text-white",children:[t.jsxs("div",{className:"text-4xl md:text-6xl lg:text-8xl font-mono font-bold",children:[Math.floor(r/3600),":",o(Math.floor(r%3600/60)),":",o(i)]}),t.jsx("div",{className:"text-white/70 text-lg font-normal font-montserrat",children:"That Is:"}),t.jsx(l,{className:"text-center space-y-10 font-mono text-lg md:text-xl",children:u.map(a=>{var s,n
const i=(null==(s=a.calc)?void 0:s.call(a,r))??((null==(n=a.check)?void 0:n.call(a,e))?"Yes":"No")
return t.jsxs(l,{children:[t.jsx("span",{className:"text-2xl",children:i.toLocaleString()}),t.jsx("span",{className:"font-playfair font-semibold ml-2 text-white/70",children:a.label}),t.jsx("div",{className:"text-white/50 text-sm",children:a.comment})]},a.label)})})]})}function p(){const[e,s]=a.useState(0),l=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0,0)
return(t.getTime()-e.getTime())/(t.getTime()-new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime())*100}
return a.useEffect(()=>{s(l())
const e=setInterval(()=>{s(l())},1e3)
return()=>clearInterval(e)},[]),t.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm font-medium text-white/80",children:[t.jsx("span",{className:"text-lg",children:"Today"}),t.jsxs("span",{className:"font-montserrat text-md",children:[e.toFixed(6),"% remaining"]})]}),t.jsx("div",{className:"w-full h-10 overflow-hidden bg-white/10",children:t.jsx("div",{className:"h-full bg-white transition-all duration-1000 linear",style:{width:e+"%"}})}),t.jsxs("div",{className:"text-sm text-white/50 text-left mt-1",children:["Day ends in ",(.24*e).toFixed(2)," hours"]})]})}function w(){const a=e()
return t.jsx("div",{className:"bg-black min-h-screen flex items-center justify-center px-4 sm:px-8 md:px-16",children:t.jsxs(l,{className:"gap-6 text-center",children:[t.jsx(r,{className:"font-playfair text-6xl font-bold",children:"404"}),t.jsx(i,{className:"text-white/70 md:text-xl",children:"Page not found."}),t.jsx(o,{onPress:()=>a("/mori"),className:"mt-4 px-10 py-4",children:"Go home"})]})})}export{d as L,w as N,f as R,h as S}
