import{u as e,j as t,r as a}from"./vendor-DL0WX_AC.js"
import{S as s,C as l,l as n,a as r,b as i,F as o,D as c,M as m}from"./components-DC9deJAb.js"
function x(){const a=e()
return t.jsx(s,{hideHeader:1,children:t.jsxs(l,{className:"gap-2 text-center w-full",children:[t.jsx("img",{src:n,className:"w-24 h-24 md:w-32 md:h-32",draggable:0,loading:"lazy"}),t.jsx(r,{className:"font-playfair text-8xl md:text-9xl font-extrabold tracking-tight uppercase",children:"MORI"}),t.jsx(i,{className:"text-white/70 text-2xl md:text-3xl font-semibold uppercase mt-2",children:"YOU ARE ALREADY DYING"}),t.jsx(i,{className:"text-white/50 text-sm md:text-lg max-w-2xl mx-auto leading-snug mt-6 px-12 md:px-0",children:"Your time is finite. Watch it disappear."}),t.jsx(o,{className:"mt-10 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>a("/setup"),children:"Continue"})]})})}function d(e,t){const[s,l]=a.useState(()=>localStorage.getItem(e)??t)
return a.useEffect(()=>{localStorage.setItem(e,s)},[e,s]),[s,l]}function h(){const[n,x]=d("username",""),[h,u]=d("birthdate",""),[f,g]=d("gender",""),p=e(),[j,w]=a.useState({})
return t.jsx(s,{children:t.jsxs(l,{className:"gap-4",children:[t.jsx(r,{className:"text-4xl md:text-5xl font-extrabold tracking-tight uppercase",children:"Who Are You?"}),t.jsx(i,{className:"text-white/50 text-xs md:text-sm leading-relaxed text-center italic max-w-md mx-auto px-4",children:"This application only saves data locally on your device and is only used for the purpose of your experience."}),t.jsx(c,{className:"my-8"}),t.jsxs("form",{className:"w-full max-w-md mx-auto flex flex-col gap-8",children:[t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Name"}),t.jsx(i,{className:"text-xs text-white/70",children:"Just something humanizing."}),t.jsx("input",{type:"text",placeholder:"...",className:`mt-1 p-2 bg-transparent border-b ${j.username?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:n,onChange:e=>x(e.target.value)}),j.username?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:j.username}):null]}),t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Your Birth Date"}),t.jsx("input",{type:"date",className:`birthdate-picker mt-1 p-2 bg-transparent border-b ${j.birthdate?"border-red-400":"border-white/70"} text-white font-montserrat focus:border-white focus:outline-none`,value:h,onChange:e=>u(e.target.value)}),j.birthdate?t.jsx("span",{className:"mt-1 text-sm text-red-400",children:j.birthdate}):null]}),t.jsxs("label",{className:"flex flex-col text-white text-lg",children:[t.jsx(r,{className:"font-bold",children:"Gender"}),t.jsx("div",{className:"mt-3",children:t.jsx(m,{options:["Male","Female"],value:f??null,onChange:e=>g(e),className:"gap-3"})})]})]}),t.jsx(o,{className:"mt-4 w-full md:w-auto px-12 py-5 text-xl font-bold uppercase",onPress:()=>{(()=>{const e={}
return n&&0!==n.trim().length||(e.username="Please enter your name."),h||(e.birthdate="Please enter your birth date."),w(e),0===Object.keys(e).length})()&&p("/rep")},children:"Continue"})]})})}function u(){const[e]=d("username",""),[n]=d("birthdate",""),[r]=d("gender",""),[i,o]=a.useState("years"),[x,h]=a.useState(0)
a.useEffect(()=>{h(1)
const e=setTimeout(()=>h(0),300)
return()=>clearTimeout(e)},[i])
const u="Male"===r?71:"Female"===r?76:74,{total:p,elapsed:j,remaining:w,deathDate:N}=a.useMemo(()=>{if(!n)return{total:0,elapsed:0,remaining:0,deathDate:new Date}
const e=new Date(n),t=new Date,a=new Date(e)
if(a.setFullYear(e.getFullYear()+u),"weeks"===i){const s=Math.floor((a.getTime()-e.getTime())/6048e5),l=Math.floor((t.getTime()-e.getTime())/6048e5)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("days"===i){const s=Math.floor((a.getTime()-e.getTime())/864e5),l=Math.floor((t.getTime()-e.getTime())/864e5)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("countdown"===i){const s=Math.floor((a.getTime()-e.getTime())/1e3),l=Math.floor((t.getTime()-e.getTime())/1e3)
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}if("months"===i){const s=12*u,l=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}{const s=u,l=t.getFullYear()-e.getFullYear()
return{total:s,elapsed:l,remaining:s-l,deathDate:a}}},[n,i,u]),b="weeks"===i?5:"months"===i?12:50,y=p>0?Math.max(0,Math.min(100,Math.round(j/p*100))):0
return t.jsx(s,{children:t.jsxs(l,{gap:8,className:"py-16 px-6 md:px-0 md:py-0",children:[t.jsx("h1",{className:"text-6xl font-bold text-white text-center",children:e?e+"'s Life Calendar":"This Your is Your Life Calendar"}),t.jsxs(l,{className:"text-white/70 text-center",children:[t.jsxs("span",{className:"text-base",children:["Male"===r?"As a male, you are statistically expected to live for 71 years.":"As a female, you typically live around 76 years."," "]}),t.jsxs("span",{className:"italic text-sm",children:["(Source: ","worldometer",")"]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx(m,{options:["countdown","days","weeks","months","years"],value:i,onChange:e=>o(e),className:"gap-2 font-montserrat"})}),t.jsx(c,{}),!x&&t.jsx("div",{className:"w-full max-w-2xl mx-auto flex flex-col sm:flex-row items-center gap-4",children:t.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[t.jsx(l,{mainAxisAlignment:"start",children:"countdown"!==i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-1 flex items-end justify-center sm:justify-start gap-3",children:[t.jsx("div",{className:"text-5xl font-playfair font-bold text-white leading-none",children:w}),t.jsxs("div",{className:"text-lg text-white mb-1",children:[i," left"]})]}),t.jsxs("div",{className:"mt-2 text-md text-white/70",children:["Until"," ",t.jsx("time",{dateTime:N.toISOString(),className:"font-medium",children:N.toLocaleDateString()})]})]}):t.jsx(t.Fragment,{})}),t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"h-3 bg-white/10 overflow-hidden",children:t.jsx("div",{"aria-hidden":1,className:"h-full bg-gradient-to-r from-rose-800 via-amber-400 to-amber-100",style:{width:y+"%"}})}),t.jsxs("div",{className:"mt-1 text-sm italic text-white/70",children:[y,"% of the way there"]})]})]})}),t.jsxs("div",{className:"relative w-full min-h-[200px]",children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-all duration-300 "+(x?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-3"),children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{className:"text-xs text-white/50",children:"Recalculatingâ€¦"})]})}),"months"===i||"years"===i||"weeks"===i?t.jsx("div",{className:"inset-0 flex items-center justify-center transition-opacity duration-500 "+(x?"opacity-0 pointer-events-none":"opacity-100"),children:t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"grid max-w-[90dvw] gap-1.5",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${b}px, 1fr))`,gridAutoRows:b+"px"},children:Array.from({length:p}).map((e,a)=>t.jsx("div",{className:"aspect-square transition-colors duration-150 cell-animate "+(j>a?"bg-white/20":"bg-white"),style:{animationDelay:1.15*a+"ms"}},`cell-${i}-${a}`))})})}):"days"===i?t.jsx(g,{}):"countdown"===i?t.jsx(f,{deathDate:N}):t.jsx(t.Fragment,{})]})]})})}function f({deathDate:e}){const[s,l]=a.useState(()=>{const t=new Date
return(e.getTime()-t.getTime())/1e3})
return a.useEffect(()=>{const t=()=>{const t=new Date
l((e.getTime()-t.getTime())/1e3)}
t()
const a=setInterval(t,1e3)
return()=>clearInterval(a)},[e]),t.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-2xl mx-auto text-center text-8xl font-mono font-bold text-white",children:[(()=>{const e=Math.floor(Math.max(0,s)),t=e=>(e+"").padStart(2,"0")
return`${Math.floor(e/3600)}:${t(Math.floor(e%3600/60))}:${t(e%60)}`})(),t.jsx("div",{className:"text-white/70 text-sm italic font-normal font-montserrat",children:"Tick Tock..."})]})}function g(){const[e,s]=a.useState(0),l=()=>{const e=new Date
return(new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0,0).getTime()-e.getTime())/864e5*100}
return a.useEffect(()=>{s(l())
const e=setInterval(()=>{s(l())},1e3)
return()=>clearInterval(e)},[]),t.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm font-medium text-white/80",children:[t.jsx("span",{className:"text-lg",children:"Today"}),t.jsxs("span",{className:"font-montserrat text-md",children:[e.toFixed(6),"% remaining"]})]}),t.jsx("div",{className:"w-full h-10 overflow-hidden bg-white/10",children:t.jsx("div",{className:"h-full bg-white transition-all duration-1500 linear",style:{width:e+"%"}})}),t.jsxs("div",{className:"text-sm text-white/50 text-left mt-1",children:["Day ends in ",(.24*e).toFixed(2)," hours"]})]})}function p(){const a=e()
return t.jsx("div",{className:"bg-black min-h-screen flex items-center justify-center px-4 sm:px-8 md:px-16",children:t.jsxs(l,{className:"gap-6 text-center",children:[t.jsx(r,{className:"font-playfair text-6xl font-bold",children:"404"}),t.jsx(i,{className:"text-white/70 md:text-xl",children:"Page not found."}),t.jsx(o,{onPress:()=>a("/"),className:"mt-4 px-10 py-4",children:"Go home"})]})})}export{x as L,p as N,u as R,h as S}
